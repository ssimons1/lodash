;;;;;;AAAA;;;;AACA;;;;;;AAEA;AACA,IAAMA,uBAAuB,CAA7B;AACA,IAAMC,yBAAyB,CAA/B;;AAEA;;;;;;;;;;AAUA,SAASC,WAAT,CAAqBC,MAArB,EAA6BC,MAA7B,EAAqCC,SAArC,EAAgDC,UAAhD,EAA4D;AAC1D,MAAIC,QAAQF,UAAUG,MAAtB;AACA,MAAMA,SAASD,KAAf;AACA,MAAME,eAAe,CAACH,UAAtB;;AAEA,MAAIH,UAAU,IAAd,EAAoB;AAClB,WAAO,CAACK,MAAR;AACD;AACD,MAAIE,aAAJ;AACA,MAAIC,eAAJ;AACAR,WAASS,OAAOT,MAAP,CAAT;AACA,SAAOI,OAAP,EAAgB;AACdG,WAAOL,UAAUE,KAAV,CAAP;AACA,QAAKE,gBAAgBC,KAAK,CAAL,CAAjB,GACIA,KAAK,CAAL,MAAYP,OAAOO,KAAK,CAAL,CAAP,CADhB,GAEI,EAAEA,KAAK,CAAL,KAAWP,MAAb,CAFR,EAGM;AACJ,aAAO,KAAP;AACD;AACF;AACD,SAAO,EAAEI,KAAF,GAAUC,MAAjB,EAAyB;AACvBE,WAAOL,UAAUE,KAAV,CAAP;AACA,QAAMM,MAAMH,KAAK,CAAL,CAAZ;AACA,QAAMI,WAAWX,OAAOU,GAAP,CAAjB;AACA,QAAME,WAAWL,KAAK,CAAL,CAAjB;;AAEA,QAAID,gBAAgBC,KAAK,CAAL,CAApB,EAA6B;AAC3B,UAAII,aAAaE,SAAb,IAA0B,EAAEH,OAAOV,MAAT,CAA9B,EAAgD;AAC9C,eAAO,KAAP;AACD;AACF,KAJD,MAIO;AACL,UAAMc,QAAQ,qBAAd;AACA,UAAIX,UAAJ,EAAgB;AACdK,iBAASL,WAAWQ,QAAX,EAAqBC,QAArB,EAA+BF,GAA/B,EAAoCV,MAApC,EAA4CC,MAA5C,EAAoDa,KAApD,CAAT;AACD;AACD,UAAI,EAAEN,WAAWK,SAAX,GACE,2BAAYD,QAAZ,EAAsBD,QAAtB,EAAgCd,uBAAuBC,sBAAvD,EAA+EK,UAA/E,EAA2FW,KAA3F,CADF,GAEEN,MAFJ,CAAJ,EAGO;AACL,eAAO,KAAP;AACD;AACF;AACF;AACD,SAAO,IAAP;AACD;;kBAEcT,W