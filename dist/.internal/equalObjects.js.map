;;;;;;AAAA;;;;;;AAEA;AACA,IAAMA,uBAAuB,CAA7B;;AAEA;AACA,IAAMC,iBAAiBC,OAAOC,SAAP,CAAiBF,cAAxC;;AAEA;;;;;;;;;;;;;AAaA,SAASG,YAAT,CAAsBC,MAAtB,EAA8BC,KAA9B,EAAqCC,OAArC,EAA8CC,UAA9C,EAA0DC,SAA1D,EAAqEC,KAArE,EAA4E;AAC1E,MAAMC,YAAYJ,UAAUP,oBAA5B;AACA,MAAMY,WAAW,0BAAWP,MAAX,CAAjB;AACA,MAAMQ,YAAYD,SAASE,MAA3B;AACA,MAAMC,WAAW,0BAAWT,KAAX,CAAjB;AACA,MAAMU,YAAYD,SAASD,MAA3B;;AAEA,MAAID,aAAaG,SAAb,IAA0B,CAACL,SAA/B,EAA0C;AACxC,WAAO,KAAP;AACD;AACD,MAAIM,YAAJ;AACA,MAAIC,QAAQL,SAAZ;AACA,SAAOK,OAAP,EAAgB;AACdD,UAAML,SAASM,KAAT,CAAN;AACA,QAAI,EAAEP,YAAYM,OAAOX,KAAnB,GAA2BL,eAAekB,IAAf,CAAoBb,KAApB,EAA2BW,GAA3B,CAA7B,CAAJ,EAAmE;AACjE,aAAO,KAAP;AACD;AACF;AACD;AACA,MAAMG,UAAUV,MAAMW,GAAN,CAAUhB,MAAV,CAAhB;AACA,MAAIe,WAAWV,MAAMW,GAAN,CAAUf,KAAV,CAAf,EAAiC;AAC/B,WAAOc,WAAWd,KAAlB;AACD;AACD,MAAIgB,SAAS,IAAb;AACAZ,QAAMa,GAAN,CAAUlB,MAAV,EAAkBC,KAAlB;AACAI,QAAMa,GAAN,CAAUjB,KAAV,EAAiBD,MAAjB;;AAEA,MAAImB,iBAAJ;AACA,MAAIC,WAAWd,SAAf;AACA,SAAO,EAAEO,KAAF,GAAUL,SAAjB,EAA4B;AAC1BI,UAAML,SAASM,KAAT,CAAN;AACA,QAAMQ,WAAWrB,OAAOY,GAAP,CAAjB;AACA,QAAMU,WAAWrB,MAAMW,GAAN,CAAjB;;AAEA,QAAIT,UAAJ,EAAgB;AACdgB,iBAAWb,YACPH,WAAWmB,QAAX,EAAqBD,QAArB,EAA+BT,GAA/B,EAAoCX,KAApC,EAA2CD,MAA3C,EAAmDK,KAAnD,CADO,GAEPF,WAAWkB,QAAX,EAAqBC,QAArB,EAA+BV,GAA/B,EAAoCZ,MAApC,EAA4CC,KAA5C,EAAmDI,KAAnD,CAFJ;AAGD;AACD;AACA,QAAI,EAAEc,aAAaI,SAAb,GACGF,aAAaC,QAAb,IAAyBlB,UAAUiB,QAAV,EAAoBC,QAApB,EAA8BpB,OAA9B,EAAuCC,UAAvC,EAAmDE,KAAnD,CAD5B,GAEEc,QAFJ,CAAJ,EAGO;AACLF,eAAS,KAAT;AACA;AACD;AACDG,iBAAaA,WAAWR,OAAO,aAA/B;AACD;AACD,MAAIK,UAAU,CAACG,QAAf,EAAyB;AACvB,QAAMI,UAAUxB,OAAOyB,WAAvB;AACA,QAAMC,UAAUzB,MAAMwB,WAAtB;;AAEA;AACA,QAAID,WAAWE,OAAX,IACC,iBAAiB1B,MAAjB,IAA2B,iBAAiBC,KAD7C,IAEA,EAAE,OAAOuB,OAAP,IAAkB,UAAlB,IAAgCA,mBAAmBA,OAAnD,IACA,OAAOE,OAAP,IAAkB,UADlB,IACgCA,mBAAmBA,OADrD,CAFJ,EAGmE;AACjET,eAAS,KAAT;AACD;AACF;AACDZ,QAAM,QAAN,EAAgBL,MAAhB;AACAK,QAAM,QAAN,EAAgBJ,KAAhB;AACA,SAAOgB,MAAP;AACD;;kBAEclB,Y